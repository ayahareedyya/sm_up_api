# =============================================================================
# SM Image Processing API - Environment Configuration
# =============================================================================

# API Configuration
API_TITLE="SM Image Processing API"
API_VERSION="1.0.0"
DEBUG=false
ENVIRONMENT="production"

# Server Configuration
HOST="0.0.0.0"
PORT=8000
WORKERS=4

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/sm_image_api"
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_ECHO=false

# Redis Configuration
REDIS_URL="redis://localhost:6379/0"
REDIS_MAX_CONNECTIONS=10

# Security Configuration
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_ALGORITHM="HS256"
JWT_EXPIRE_HOURS=24
FRONTEND_API_KEY="your-frontend-api-key-change-this"

# Image Processing Configuration
MAX_IMAGE_SIZE_MB=10
MAX_IMAGES_PER_REQUEST=3
SUPPORTED_FORMATS="jpg,jpeg,png,webp"

# AI Model Configuration
FLUX_MODEL_PATH="/app/models/flux"
LORA_MODEL_PATH="/app/models/lora-upscale"
GPU_MEMORY_FRACTION=0.9
TORCH_DEVICE="auto"  # auto, cpu, cuda

# File Storage Configuration
STORAGE_TYPE="local"  # local, s3, minio
STORAGE_PATH="/app/storage"
STORAGE_URL_PREFIX="https://api.yourdomain.com/files"

# S3/MinIO Configuration (if using cloud storage)
S3_BUCKET_NAME="sm-image-api"
S3_ACCESS_KEY="your-access-key"
S3_SECRET_KEY="your-secret-key"
S3_ENDPOINT_URL="https://s3.amazonaws.com"  # or MinIO endpoint
S3_REGION="us-east-1"

# Celery Configuration
CELERY_BROKER_URL="redis://localhost:6379/1"
CELERY_RESULT_BACKEND="redis://localhost:6379/2"
CELERY_TASK_SERIALIZER="json"
CELERY_RESULT_SERIALIZER="json"

# Monitoring Configuration
ENABLE_METRICS=true
LOG_LEVEL="INFO"
SENTRY_DSN=""  # Optional: for error tracking

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# Credit System
DEFAULT_CREDITS=0
CREDIT_COSTS_ENHANCE_LOW=1
CREDIT_COSTS_ENHANCE_MEDIUM=2
CREDIT_COSTS_ENHANCE_HIGH=3
CREDIT_COSTS_UPSCALE_2X=2
CREDIT_COSTS_UPSCALE_4X=4

# External Services
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_ATTEMPTS=3

# Development Settings (only for development)
RELOAD=false
ACCESS_LOG=true
